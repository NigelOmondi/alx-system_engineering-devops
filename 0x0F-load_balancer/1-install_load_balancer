# Install and configure HAProxy to manage web-01 and web-02 servers.
sudo apt-get update

sudo apt-get install -y haproxy

# Configure HAProxy for load balancing
loadbalancer_config=\
"
front-end lb-frontend
    bind *:80
    mode http
    default_backend lb-backend

backend lb-backend
    balance roundrobin
    server web-01 100.26.238.151:80 check
    server web_02 100.25.183.127:80 check
" > /etc/haproxy/haproxy.cfg
# Enable proxy in the init haproxy
sudo systemctl enable haproxy
# Restart HAProxy
sudo systemctl restart haproxy
# Ensure HAProxy service is running
sudo systemctl status haproxy
